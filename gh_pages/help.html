<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Discord2Html ヘルプ (/d2h コマンド)</title>
  <style>
    body{font-family:Segoe UI,Meiryo,sans-serif;background:#f8f9fb;color:#222;margin:0;padding:1em}
    .container{max-width:900px;margin:auto;background:#fff;padding:2em;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.06)}
    h1{margin-top:0}
    h2{margin-top:1.4em}
    code{background:#f1f3f5;padding:.1em .3em;border-radius:4px}
    kbd{background:#f8f9fa;border:1px solid #ccc;border-bottom-width:2px;border-radius:4px;padding:.05em .35em;font-family:Consolas,Monaco,monospace}
    a{color:#0b6efd;text-decoration:none}
    a:hover{text-decoration:underline}
    ul{line-height:1.8}
    .note{background:#fff3cd;border:1px solid #ffe69c;padding:.8em;border-radius:6px}
    .tip{background:#e7f5ff;border:1px solid #a5d8ff;padding:.8em;border-radius:6px}
    .cmd{font-weight:bold}
    .args{color:#555}
    .perm{color:#8b5e00;font-size:.95em}
  </style>
</head>
<body>
<div class="container">
  <h1>Discord2Html ヘルプ</h1>
  <p>このページは Discord のスラッシュコマンド <code>/d2h</code> 群の使い方を <code>DiscordBotCommandListener.java</code> に基づいて説明します。</p>

  <div class="note">
    <ul>
      <li>コマンドはサーバーチャンネルでのみ使用できます（DMでは不可）。</li>
      <li>ボット設定で <strong>管理タグ付きチャンネル</strong> のみ実行可能です。</li>
      <li>一部コマンドは <strong>管理者権限（<code>D2H Admin</code>）</strong> が必要です。</li>
    </ul>
  </div>

  <h2>/d2h コマンド一覧</h2>
  <ul>
    <li>
      <div class="cmd">/d2h archive <span class="args">channel:&lt;チャンネル&gt; mode:(ignore|monitor)</span></div>
      <div>対象チャンネルのアーカイブ対象設定を変更します。</div>
      <div class="perm">権限: 管理者のみ</div>
    </li>
    <li>
      <div class="cmd">/d2h run <span class="args">[target:&lt;チャンネル&gt;]</span></div>
      <div>今すぐアーカイブ処理を実行します。<span class="args">target</span> を指定するとそのチャンネル、未指定時はコンテキストに応じて動作します。</div>
      <div class="perm">権限: 管理者のみ</div>
    </li>
    <li>
      <div class="cmd">/d2h role <span class="args">role:&lt;ロール&gt; anonymous:(anonymous|open)</span></div>
      <div>指定ロール所持ユーザの匿名設定を一括で変更します。</div>
      <div class="perm">権限: 管理者のみ</div>
    </li>
    <li>
      <div class="cmd">/d2h anonymous <span class="args">menu:cycle cycle:&lt;数値&gt;</span></div>
      <div>ギルドの匿名名前サイクル時間を変更します。<br>推奨レンジ: 1〜24（時間）。</div>
      <div class="perm">権限: 管理者のみ</div>
    </li>
    <li>
      <div class="cmd">/d2h me <span class="args">anonymous:(anonymous|open)</span></div>
      <div>自分の匿名設定を変更します。</div>
      <div class="perm">権限: だれでも</div>
    </li>
    <li>
      <div class="cmd">/d2h help</div>
      <div>このヘルプを表示します。</div>
      <div class="perm">権限: だれでも</div>
    </li>
  </ul>

  <div class="tip">
    <strong>実行場所の制限:</strong> すべてのコマンドは「管理タグ付きチャンネル」でのみ有効です。その他のチャンネルで実行すると拒否されます。
  </div>

  <h2>アーカイブの出力</h2>
  <ul>
    <li>チャンネルごとのインデックス: <code>archives/$channel$.html</code></li>
    <li>日次一覧: <code>archive/$yyyyMMdd$/$channel$.html</code></li>
  </ul>

  <p><a href="/index.html">トップへ戻る</a></p>
</div>
</body>
</html>
